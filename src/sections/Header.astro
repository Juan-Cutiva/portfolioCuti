---
// @ts-nocheck
import Dev from '../../public/icons/dev.astro';
import Menu from '../../public/icons/Menu.astro';
import Moon from '../components/Moon.astro';
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import { getRelativeLocaleUrl } from 'astro:i18n';

const text = [
	{ rute: '/', text: 'nav.home' },
	{ rute: '#projects', text: 'nav.projects' },
	{ rute: '#about', text: 'nav.about' },
	{ rute: '#contact', text: 'nav.contact' }
];

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<header class="flex h-14 w-screen justify-end bg-White text-Black dark:bg-Black dark:text-White">
	<nav class="flex items-center">
		<div class="flex md:hidden">
			<Menu />
		</div>
		<a
			href={getRelativeLocaleUrl(lang, '/')}
			class="absolute left-10 flex items-center text-xl font-semibold"
			>Juan Cutiva <span class="mt-[3px] pl-1"><Dev /></span></a
		>
		<div class="flex w-auto">
			{
				text.map((item) => (
					<a
						href={getRelativeLocaleUrl(lang, item.rute)}
						class="m-1 w-auto rounded-xl px-3 py-1 font-medium transition-all duration-[250ms] ease-out hover:bg-Black hover:text-White dark:hover:bg-White dark:hover:text-Black hidden md:flex"
					>
						<p class="text-center">{t(item.text)}</p>
					</a>
				))
			}
		</div>
		<div class="scale-50">
			<Moon />
		</div>
	</nav>
	<div id="header" class="absolute top-14 hidden h-44 w-screen bg-White dark:bg-Black"></div>
</header>
<style>
	#header {
		--tw-shadow: inset 0 2px 4px 0 rgb(0 0 0 / 0.1);
		--tw-shadow-colored: inset 0 2px 4px 0 var(--tw-shadow-color);
		box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000),
			var(--tw-shadow);
	}
	@keyframes fade-in {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}
	@keyframes fade-out {
		from {
			opacity: 1;
		}
		to {
			opacity: 0;
		}
	}
</style>
<script src="../scripts/inputTheme.js"></script>
